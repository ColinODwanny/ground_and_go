<?xml version="1.0" encoding="utf-8" ?>
<!-- Samuel Reynebeau -->
<toolkit:Popup xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
               xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
               xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
               x:Class="ground_and_go.Pages.WorkoutGeneration.WorkoutOptionsPopup"
               Color="Transparent">

    <Border StrokeShape="RoundRectangle 20"
            Stroke="LightGray"
            BackgroundColor="White"
            Padding="25"
            WidthRequest="320">

        <VerticalStackLayout Spacing="20">

            <!-- Step 1: Workout Type Selection -->
            <VerticalStackLayout x:Name="WorkoutTypeStep" Spacing="20">
                <Label Text="What type of workout do you want?"
                       FontSize="22"
                       FontAttributes="Bold"
                       HorizontalOptions="Center"
                       HorizontalTextAlignment="Center"
                       TextColor="Black"
                       Margin="0,0,0,10"/>

                <FlexLayout x:Name="WorkoutTypeButtonsLayout"
                            Wrap="Wrap"
                            Direction="Row"
                            JustifyContent="Center"
                            AlignItems="Center">
                    <!-- Dynamic buttons will be added here -->
                </FlexLayout>

                <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                    <Button Text="Cancel"
                            Grid.Column="0"
                            BackgroundColor="Gray"
                            TextColor="White"
                            Clicked="OnCancel_Clicked" />

                    <Button Text="Next"
                            x:Name="NextButton"
                            Grid.Column="1"
                            BackgroundColor="#2196F3"
                            TextColor="White"
                            Clicked="OnNext_Clicked" />
                </Grid>
            </VerticalStackLayout>

            <!-- Step 2: Equipment Selection (only for Strength Training) -->
            <VerticalStackLayout x:Name="EquipmentStep" Spacing="20" IsVisible="False">
                <Label Text="What equipment do you have?"
                       FontSize="22"
                       FontAttributes="Bold"
                       HorizontalOptions="Center"
                       HorizontalTextAlignment="Center"
                       TextColor="Black"
                       Margin="0,0,0,10"/>

                <FlexLayout Wrap="Wrap"
                            Direction="Row"
                            JustifyContent="Center"
                            AlignItems="Center">

                    <Button Text="Home Equipment"
                            x:Name="HomeButton"
                            Clicked="OnEquipmentClicked"
                            Margin="5"
                            BackgroundColor="#F3F4F6"
                            TextColor="Black"
                            BorderColor="#E0E0E0"
                            BorderWidth="2"
                            CornerRadius="20"
                            WidthRequest="160"
                            Padding="12,6" />

                    <Button Text="Gym Equipment"
                            x:Name="GymButton"
                            Clicked="OnEquipmentClicked"
                            Margin="5"
                            BackgroundColor="#F3F4F6"
                            TextColor="Black"
                            BorderColor="#E0E0E0"
                            BorderWidth="2"
                            CornerRadius="20"
                            WidthRequest="160"
                            Padding="12,6" />

                </FlexLayout>

                <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                    <Button Text="Back"
                            Grid.Column="0"
                            BackgroundColor="Gray"
                            TextColor="White"
                            Clicked="OnBack_Clicked" />

                    <Button Text="Submit"
                            Grid.Column="1"
                            BackgroundColor="#2196F3"
                            TextColor="White"
                            Clicked="OnSubmit_Clicked" />
                </Grid>
            </VerticalStackLayout>

        </VerticalStackLayout>
    </Border>
</toolkit:Popup>
